import { expect, test } from 'vitest'

import { Bloom } from 'ox'

test('checks if bloom is valid', () => {
  expect(Bloom.validate('a5cc3c03994db5b0d9a5eEdD10Cabab0813678ac')).toBeFalsy()
  expect(
    Bloom.validate('0xa5cc3c03994db5b0d9a5eEdD10Cabab0813678ac'),
  ).toBeFalsy()
  expect(
    Bloom.validate(
      '0x000000000000000000008000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000044000200000000000000000002000000000000000000000040000000000000000000000000000020000000000000000000800000000000800000000000800000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000808002000000000400000000000000000000000060000000000000000000000000000000000000000000000100000000000002000000',
    ),
  ).toBeFalsy()
  expect(
    Bloom.validate(
      '0x00000000000000000000008000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000044000200000000000000000002000000000000000000000040000000000000000000000000000020000000000000000000800000000000800000000000800000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000808002000000000400000000000000000000000060000000000000000000000000000000000000000000000100000000000002000000',
    ),
  ).toBeTruthy()
})
